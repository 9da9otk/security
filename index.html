<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>خريطة الأمن</title>

  <!-- نمط الواجهة -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- لون المتصفح على الجوال -->
  <meta name="theme-color" content="#0b1220" />
</head>
<body>
  <!-- عنصر الخريطة يملأ الشاشة -->
  <div id="map" aria-label="الخريطة"></div>

  <!-- سكربت التطبيق (يبني لوحـة الطبقات ولوحة التحرير تلقائيًا) -->
  <script src="js/main.js" defer></script>

  <!-- Google Maps (استبدل المفتاح إن لزم) -->
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjX9UJKG53r5ymGydlWEMNbuvi234LcC8&v=weekly&callback=initMap"
    async defer></script>

  <!-- استدعاء احتياطي إذا لم يُنفّذ الـ callback لأي سبب -->
  <script>
    window.addEventListener('load', () => {
      if (typeof window.initMap === 'function' && !window.__mapBootstrapped) {
        try { window.initMap(); } catch (_) {}
      }
    });
  </script>
</body>
</html>
